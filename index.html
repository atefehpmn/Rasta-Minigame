<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gated Latch Builder</title>
  <style>
    body { background:#f0f0f0; font-family:sans-serif; text-align:center; }
    #workspace { width:800px; height:500px; border:2px dashed #888; margin:20px auto; position:relative; background:white; }
    .component {
      width:80px; height:50px; background:#ddd; border:1px solid #333; 
      position:absolute; cursor:move; display:flex; align-items:center; justify-content:center;
    }
    #message { margin-top:20px; font-size:20px; font-weight:bold; color:green; }
  </style>
</head>
<body>
  <h2>Build the Gated Latch</h2>
  <div id="workspace">
    <div class="component" id="data" style="top:20px;left:20px;">Data</div>
    <div class="component" id="enable" style="top:100px;left:20px;">Enable</div>
    <div class="component" id="and1" style="top:200px;left:200px;">AND1</div>
    <div class="component" id="not1" style="top:50px;left:200px;">NOT</div>
    <div class="component" id="and2" style="top:150px;left:400px;">AND2</div>
    <div class="component" id="latch" style="top:100px;left:600px;">AND-OR Latch</div>
  </div>
  <button onclick="checkSolution()">Check</button>
  <div id="message"></div>

  <script>
    // Dragging logic
    const components = document.querySelectorAll('.component');
    let selected = null, offsetX=0, offsetY=0;

    components.forEach(c=>{
      c.onmousedown = e=>{
        selected = c;
        offsetX = e.offsetX; offsetY = e.offsetY;
      };
    });
    document.onmousemove = e=>{
      if(selected){
        selected.style.left = (e.pageX - offsetX - workspace.offsetLeft)+"px";
        selected.style.top = (e.pageY - offsetY - workspace.offsetTop)+"px";
      }
    };
    document.onmouseup = ()=>{ selected=null; };

    // For now, we check by IDs manually (mock wiring).
    function checkSolution(){
      // Simplified: check if components are roughly in the "correct" zone
      const and1 = document.getElementById('and1').getBoundingClientRect().left;
      const and2 = document.getElementById('and2').getBoundingClientRect().left;
      const not1 = document.getElementById('not1').getBoundingClientRect().left;
      if(and1>100 && and2>300 && not1>100){
        document.getElementById("message").textContent="✅ Correct! You built the gated latch!";
        components.forEach(c=>c.onmousedown=null); // freeze
      } else {
        document.getElementById("message").textContent="❌ Not correct yet!";
      }
    }
  </script>
</body>
</html>
